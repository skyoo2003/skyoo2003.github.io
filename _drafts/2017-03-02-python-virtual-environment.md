---
layout: post
title:  Python 가상 환경 구축하기 (pyenv, virtualenv, autoenv)
date:   2017-03-02T22:17:12+0900
categories: [all, python]
permalink: /post/:year/:month/:day/:title
published: true
---

## 시작하기 전에

Python(이하 파이썬)의 가상환경을 구축하기 위한 방법을 구체적으로 정리하고자 한다. 리눅스 배포판을 설치하면 기본적으로 함께 설치가 되어 있으나 주로 구 버전의 파이썬이 설치된다. 최신 버전 혹은 원하는 버전을 효과적으로 활용하기 위해서는 환경변수를 잘 관리해야하는데, 때때로 이는 번거럽거나 제대로 동작하지 않는 경우가 많다. 그리고, 파이썬 라이브러리들은 기본적으로 루트 권한이 필요한 경로에 설치되며, 가끔은 시스템 라이브러리와 충돌이 일어나는 경우도 있다. 개발하는 프로젝트에 적절한 의존성을 가진 라이브러리만 관리하고 싶은 니즈가 충분히 있을 수 있다.

이러한 요구사항을 만족시켜줄 수 있는 몇몇 오픈소스 프로젝트를 소개하고자 한다.

먼저, Pyenv 는 파이썬의 가상 환경을 구축해주는 오픈소스이다. 어떤 의미냐면, 다양한 파이썬 버전을 설치하고, 필요에 따라서 선택하여 사용하기 쉽도록 기능을 제공한다. A라는 프로젝트는 파이썬 2.7 기반으로 개발이 되어 있다고 하고, B라는 프로젝트는 파이썬 3.2 기반으로 개발이 되어있다고 가정하고, 하나의 시스템(혹은 서버)에서 동작시키고자 할 때, Pyenv 는 좋은 솔루션이 된다.

다음으로, Virtualenv는 파이썬 라이브러리의 가상환경으로 구축하여 프로젝트 별로 의존성을 분리할 수 있다. 이는 굉장히 중요한데, A라는 프로젝트가 a-1.0.0 에 의존성이 있다고 할 때, 시스템에는 a-0.1.0-alpha 라는 라이브러리에 의존성이 걸려 있다면, 이 의존성을 함부로 깨트리는 경우, 몇몇 시스템 스크립트(ex, yum)가 제대로 동작하지 않을 수 있다. 이는 종종 굉장히 위험한 상황을 불러 일으킬 수 있다.

마지막으로, Autoenv는 위에서 소개한 오픈소스와는 조금 성격이 다르다. 개인적인 생각으로는 개발 중에 사용하면 매우 편리할 것으로 생각이드는데, 디렉토리 별로 가상환경을 구축할 수 있는 간단한 기능을 제공한다. 파이썬 버전과 라이브러리의 의존성을 가상환경으로 분리했을 때, 프로그램을 구동하려 할 때, 가상 환경을 로딩하는 전처리 로직을 먼저 수행해야 한다. 이런 전처리 로직을 특정 디렉토리에 위치하는 것만으로 가상 환경이 로딩할 수 있는 방법을 제공할 수 있다.

## 가상환경 구축하기

### Pyenv (파이썬 버전 가상환경)

### Virtualenv (파이썬 라이브러리 가상환경)

### Autoenv (디렉토리 기반 가상환경)

## 참고 링크

[1] [pyenv Github 프로젝트](https://github.com/yyuu/pyenv){:target="_blank"}

[2] [autoenv Github 프로젝트](https://github.com/kennethreitz/autoenv){:target="_blank"}

[3] [Virtualenv 공식 홈페이지](https://virtualenv.pypa.io/en/stable/){:target="_blank"}
