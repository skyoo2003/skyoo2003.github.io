<!DOCTYPE html>
<html lang="en-us">
<head>
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <script type="text/javascript" src="https://latest.cactus.chat/cactus.js"></script>
  <link rel="stylesheet" href="https://latest.cactus.chat/style.css" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> Java 8 살펴보기 | Devlog in the SKY</title>
  <link rel = 'canonical' href = 'https://skyoo2003.github.io/post/2016/10/25/2016-10-25-introduction-to-java8/'>
  <meta name="description" content="Devlog in the SKY - Yet another developer&#39;s blog">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="Java 8 살펴보기" />
<meta property="og:description" content="Java 8 버전에 추가된 내용들에 대해서 정리하고자 한다. 전반적인 내용을 정리하고자 하였고, 자세하고 세부적인 내용은 관련 링크를 첨부하여 추후에 가능하다면, 해당 부분에 대해서 더 자세히 정리해보고자 한다.
새로운 기능 정리 Lambda Expression (a.k.a Anonymous Method) 자바의 람다 표현식의 근간은 &lsquo;알론소 처치 (Alonzo Church)&lsquo;가 1930년대에 람다 대수를 제안. 함수 정의, 함수 적용, 귀납적 함수를 추상화한 형식 체계! 자세한 사항은 람다 대수 위키 참조.
익명 메소드 생성 문법을 지원한다는 정도로 이해하면 좋을 듯 하다." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://skyoo2003.github.io/post/2016/10/25/2016-10-25-introduction-to-java8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-10-25T21:33:00+09:00" />
<meta property="article:modified_time" content="2016-10-25T21:33:00+09:00" />


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Java 8 살펴보기"/>
<meta name="twitter:description" content="Java 8 버전에 추가된 내용들에 대해서 정리하고자 한다. 전반적인 내용을 정리하고자 하였고, 자세하고 세부적인 내용은 관련 링크를 첨부하여 추후에 가능하다면, 해당 부분에 대해서 더 자세히 정리해보고자 한다.
새로운 기능 정리 Lambda Expression (a.k.a Anonymous Method) 자바의 람다 표현식의 근간은 &lsquo;알론소 처치 (Alonzo Church)&lsquo;가 1930년대에 람다 대수를 제안. 함수 정의, 함수 적용, 귀납적 함수를 추상화한 형식 체계! 자세한 사항은 람다 대수 위키 참조.
익명 메소드 생성 문법을 지원한다는 정도로 이해하면 좋을 듯 하다."/>

  
  
    
  
  
  <link rel="stylesheet" href="https://skyoo2003.github.io/css/styles.94f653e9e151e28067a7c5dbbc4600cbd5a3c721e79faaf971e523c40f3b249b8e4f20bb57810dfffa8d559ca5c140fd56eb4cd9c0853113ad08e66afdb08bdd.css" integrity="sha512-lPZT6eFR4oBnp8XbvEYAy9WjxyHnn6r5ceUjxA87JJuOTyC7V4EN//qNVZylwUD9VutM2cCFMROtCOZq/bCL3Q=="> 

  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://skyoo2003.github.io/images/favicon.ico" />

  
  
  
  
  
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-85297310-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;" aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Posts</a></li>
         
        <li><a href="/tags">Tags</a></li>
         
        <li><a href="/about">About</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" https://skyoo2003.github.io/about/" aria-label="Previous">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="https://skyoo2003.github.io/post/2016/11/09/2016-11-09-java8-lambda-expression/" aria-label="Next">
            <i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i>
          </a>
        </li>
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#" aria-label="Share">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fskyoo2003.github.io%2fpost%2f2016%2f10%2f25%2f2016-10-25-introduction-to-java8%2f" aria-label="Facebook">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fskyoo2003.github.io%2fpost%2f2016%2f10%2f25%2f2016-10-25-introduction-to-java8%2f&text=Java%208%20%ec%82%b4%ed%8e%b4%eb%b3%b4%ea%b8%b0" aria-label="Twitter">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fskyoo2003.github.io%2fpost%2f2016%2f10%2f25%2f2016-10-25-introduction-to-java8%2f&title=Java%208%20%ec%82%b4%ed%8e%b4%eb%b3%b4%ea%b8%b0" aria-label="Linkedin">
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fskyoo2003.github.io%2fpost%2f2016%2f10%2f25%2f2016-10-25-introduction-to-java8%2f&is_video=false&description=Java%208%20%ec%82%b4%ed%8e%b4%eb%b3%b4%ea%b8%b0" aria-label="Pinterest">
      <i class="fab fa-pinterest " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Java%208%20%ec%82%b4%ed%8e%b4%eb%b3%b4%ea%b8%b0&body=Check out this article: https%3a%2f%2fskyoo2003.github.io%2fpost%2f2016%2f10%2f25%2f2016-10-25-introduction-to-java8%2f" aria-label="Email">
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fskyoo2003.github.io%2fpost%2f2016%2f10%2f25%2f2016-10-25-introduction-to-java8%2f&title=Java%208%20%ec%82%b4%ed%8e%b4%eb%b3%b4%ea%b8%b0" aria-label="Pocket">
      <i class="fab fa-get-pocket " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fskyoo2003.github.io%2fpost%2f2016%2f10%2f25%2f2016-10-25-introduction-to-java8%2f&title=Java%208%20%ec%82%b4%ed%8e%b4%eb%b3%b4%ea%b8%b0" aria-label="reddit">
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fskyoo2003.github.io%2fpost%2f2016%2f10%2f25%2f2016-10-25-introduction-to-java8%2f&name=Java%208%20%ec%82%b4%ed%8e%b4%eb%b3%b4%ea%b8%b0&description=Java%208%20%eb%b2%84%ec%a0%84%ec%97%90%20%ec%b6%94%ea%b0%80%eb%90%9c%20%eb%82%b4%ec%9a%a9%eb%93%a4%ec%97%90%20%eb%8c%80%ed%95%b4%ec%84%9c%20%ec%a0%95%eb%a6%ac%ed%95%98%ea%b3%a0%ec%9e%90%20%ed%95%9c%eb%8b%a4.%20%ec%a0%84%eb%b0%98%ec%a0%81%ec%9d%b8%20%eb%82%b4%ec%9a%a9%ec%9d%84%20%ec%a0%95%eb%a6%ac%ed%95%98%ea%b3%a0%ec%9e%90%20%ed%95%98%ec%98%80%ea%b3%a0%2c%20%ec%9e%90%ec%84%b8%ed%95%98%ea%b3%a0%20%ec%84%b8%eb%b6%80%ec%a0%81%ec%9d%b8%20%eb%82%b4%ec%9a%a9%ec%9d%80%20%ea%b4%80%eb%a0%a8%20%eb%a7%81%ed%81%ac%eb%a5%bc%20%ec%b2%a8%eb%b6%80%ed%95%98%ec%97%ac%20%ec%b6%94%ed%9b%84%ec%97%90%20%ea%b0%80%eb%8a%a5%ed%95%98%eb%8b%a4%eb%a9%b4%2c%20%ed%95%b4%eb%8b%b9%20%eb%b6%80%eb%b6%84%ec%97%90%20%eb%8c%80%ed%95%b4%ec%84%9c%20%eb%8d%94%20%ec%9e%90%ec%84%b8%ed%9e%88%20%ec%a0%95%eb%a6%ac%ed%95%b4%eb%b3%b4%ea%b3%a0%ec%9e%90%20%ed%95%9c%eb%8b%a4.%0a%ec%83%88%eb%a1%9c%ec%9a%b4%20%ea%b8%b0%eb%8a%a5%20%ec%a0%95%eb%a6%ac%20Lambda%20Expression%20%28a.k.a%20Anonymous%20Method%29%20%ec%9e%90%eb%b0%94%ec%9d%98%20%eb%9e%8c%eb%8b%a4%20%ed%91%9c%ed%98%84%ec%8b%9d%ec%9d%98%20%ea%b7%bc%ea%b0%84%ec%9d%80%20%26lsquo%3b%ec%95%8c%eb%a1%a0%ec%86%8c%20%ec%b2%98%ec%b9%98%20%28Alonzo%20Church%29%26lsquo%3b%ea%b0%80%201930%eb%85%84%eb%8c%80%ec%97%90%20%eb%9e%8c%eb%8b%a4%20%eb%8c%80%ec%88%98%eb%a5%bc%20%ec%a0%9c%ec%95%88.%20%ed%95%a8%ec%88%98%20%ec%a0%95%ec%9d%98%2c%20%ed%95%a8%ec%88%98%20%ec%a0%81%ec%9a%a9%2c%20%ea%b7%80%eb%82%a9%ec%a0%81%20%ed%95%a8%ec%88%98%eb%a5%bc%20%ec%b6%94%ec%83%81%ed%99%94%ed%95%9c%20%ed%98%95%ec%8b%9d%20%ec%b2%b4%ea%b3%84%21%20%ec%9e%90%ec%84%b8%ed%95%9c%20%ec%82%ac%ed%95%ad%ec%9d%80%20%eb%9e%8c%eb%8b%a4%20%eb%8c%80%ec%88%98%20%ec%9c%84%ed%82%a4%20%ec%b0%b8%ec%a1%b0.%0a%ec%9d%b5%eb%aa%85%20%eb%a9%94%ec%86%8c%eb%93%9c%20%ec%83%9d%ec%84%b1%20%eb%ac%b8%eb%b2%95%ec%9d%84%20%ec%a7%80%ec%9b%90%ed%95%9c%eb%8b%a4%eb%8a%94%20%ec%a0%95%eb%8f%84%eb%a1%9c%20%ec%9d%b4%ed%95%b4%ed%95%98%eb%a9%b4%20%ec%a2%8b%ec%9d%84%20%eb%93%af%20%ed%95%98%eb%8b%a4." aria-label="Tumblr">
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fskyoo2003.github.io%2fpost%2f2016%2f10%2f25%2f2016-10-25-introduction-to-java8%2f&t=Java%208%20%ec%82%b4%ed%8e%b4%eb%b3%b4%ea%b8%b0" aria-label="Hacker News">
      <i class="fab fa-hacker-news " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        Java 8 살펴보기
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="2016-10-25 21:33:00 &#43;0900 KST" itemprop="datePublished">2016-10-25</time>
          
        </div>
        
        
        
        
        <div class="article-tag">
            <i class="fas fa-tag"></i>
            
            
            <a class="tag-link" href="/tags/java" rel="tag">java</a>
            
        </div>
        
      </div>
    </header>

  
    
    <div id="toc">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#새로운-기능-정리">새로운 기능 정리</a>
      <ul>
        <li><a href="#lambda-expression-aka-anonymous-method">Lambda Expression (a.k.a Anonymous Method)</a></li>
        <li><a href="#stream-api">Stream API</a></li>
        <li><a href="#default-method">Default Method</a></li>
        <li><a href="#joda-time-방식의-새-날짜-api-변경-jsr-310">Joda Time 방식의 새 날짜 API 변경 (JSR 310)</a>
          <ul>
            <li><a href="#기본-날짜-클래스-문제점">기본 날짜 클래스 문제점</a></li>
            <li><a href="#새로운-날짜-표준-소개-jsr-310">새로운 날짜 표준 소개 (JSR-310)</a></li>
          </ul>
        </li>
        <li><a href="#메타-어노테이션-지원-보완">메타 어노테이션 지원 보완</a></li>
        <li><a href="#동시성-api-개선">동시성 API 개선</a></li>
        <li><a href="#ionio-확장">IO/NIO 확장</a></li>
        <li><a href="#ionio-관련-클래스에-메소드-추가--stream-api-를-통한-사용성-개선">IO/NIO 관련 클래스에 메소드 추가 / Stream API 를 통한 사용성 개선</a>
          <ul>
            <li><a href="#javautilbase64-클래스-추가">java.util.Base64 클래스 추가</a></li>
          </ul>
        </li>
        <li><a href="#heap에서-permanent-generation-제거">Heap에서 Permanent Generation 제거</a>
          <ul>
            <li><a href="#changed-jvm-options">Changed JVM Options</a></li>
            <li><a href="#permgen-to-metaspace">PermGen to Metaspace</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#참고-링크">참고 링크</a></li>
  </ul>
</nav>
    </div>
    
    <div class="content" itemprop="articleBody">
      <p><img src="/img/posts/java8-logo.png" alt="Java 8 Logo"></p>
<p>Java 8 버전에 추가된 내용들에 대해서 정리하고자 한다. 전반적인 내용을 정리하고자 하였고, 자세하고 세부적인 내용은 관련 링크를 첨부하여 추후에 가능하다면, 해당 부분에 대해서 더 자세히 정리해보고자 한다.</p>
<h2 id="새로운-기능-정리">새로운 기능 정리</h2>
<h3 id="lambda-expression-aka-anonymous-method">Lambda Expression (a.k.a Anonymous Method)</h3>
<p>자바의 람다 표현식의 근간은 &lsquo;알론소 처치 (Alonzo Church)&lsquo;가 1930년대에 람다 대수를 제안. 함수 정의, 함수 적용, 귀납적 함수를 추상화한 형식 체계! 자세한 사항은 <a href="https://ko.wikipedia.org/wiki/%EB%9E%8C%EB%8B%A4_%EB%8C%80%EC%88%98">람다 대수 위키</a> 참조.</p>
<p>익명 메소드 생성 문법을 지원한다는 정도로 이해하면 좋을 듯 하다.</p>
<p><strong>Java7</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#ff79c6">new</span> Thread<span style="color:#ff79c6">(</span><span style="color:#ff79c6">new</span> Runnable<span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>	@Override
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>	<span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">run</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span>		System<span style="color:#ff79c6">.</span><span style="color:#50fa7b">out</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">println</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;Hello, World!&#34;</span><span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span>	<span style="color:#ff79c6">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span><span><span style="color:#ff79c6">}).</span><span style="color:#50fa7b">start</span><span style="color:#ff79c6">();</span>
</span></span></code></pre></div><p><strong>Java8</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#ff79c6">new</span> Thread<span style="color:#ff79c6">(()</span> <span style="color:#ff79c6">-&gt;</span> <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>	System<span style="color:#ff79c6">.</span><span style="color:#50fa7b">out</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">println</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;Hello, World!&#34;</span><span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span><span style="color:#ff79c6">}).</span><span style="color:#50fa7b">start</span><span style="color:#ff79c6">();</span>
</span></span></code></pre></div><p>기존 자바의 경우, 쓰레드 생성 후 익명 클래스를 구현하고, 메소드를 오버라이딩해야만 한다. 간단한 구현 조차 클래스 구현을 강요하고, 불필요한 코드를 양산하는 구조이다.
람다 식으로 심플하게 코드를 작성할 수 있고, 본래 구현하고자 하였던 코드에 더 집중할 수 있게 된다. 추가적으로, &lsquo;함수형 인터페이스&rsquo; 를 구현하는 경우, 어떤 메소드를 오버라이드 하였는지도 명시할 필요가 없다. 함수형 인터페이스는 추후에 자세히 설명하도록 하겠다.</p>
<p><strong>Java7</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>Collections<span style="color:#ff79c6">.</span><span style="color:#50fa7b">sort</span><span style="color:#ff79c6">(</span>theListOfMyClasses<span style="color:#ff79c6">,</span> <span style="color:#ff79c6">new</span> Comparator<span style="color:#ff79c6">&lt;</span>MyClass<span style="color:#ff79c6">&gt;()</span> <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>    <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd">int</span> <span style="color:#50fa7b">compare</span><span style="color:#ff79c6">(</span>MyClass a<span style="color:#ff79c6">,</span> MyClass b<span style="color:#ff79c6">)</span> <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>        <span style="color:#ff79c6">return</span> b<span style="color:#ff79c6">.</span><span style="color:#50fa7b">getValue</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">-</span> a<span style="color:#ff79c6">.</span><span style="color:#50fa7b">getValue</span><span style="color:#ff79c6">();</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span>    <span style="color:#ff79c6">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span><span style="color:#ff79c6">});</span>
</span></span></code></pre></div><p><strong>Java8</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>theListOfMyClasses<span style="color:#ff79c6">.</span><span style="color:#50fa7b">sort</span><span style="color:#ff79c6">((</span>MyClass a<span style="color:#ff79c6">,</span> MyClass b<span style="color:#ff79c6">)</span> <span style="color:#ff79c6">-&gt;</span> <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>    <span style="color:#ff79c6">return</span> a<span style="color:#ff79c6">.</span><span style="color:#50fa7b">getValue</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">-</span> b<span style="color:#ff79c6">.</span><span style="color:#50fa7b">getValue</span><span style="color:#ff79c6">();</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span><span style="color:#ff79c6">});</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span>theListOfMyClasses<span style="color:#ff79c6">.</span><span style="color:#50fa7b">sort</span><span style="color:#ff79c6">((</span>a<span style="color:#ff79c6">,</span> b<span style="color:#ff79c6">)</span> <span style="color:#ff79c6">-&gt;</span> a<span style="color:#ff79c6">.</span><span style="color:#50fa7b">getValue</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">-</span> b<span style="color:#ff79c6">.</span><span style="color:#50fa7b">getValue</span><span style="color:#ff79c6">());</span>
</span></span></code></pre></div><p>람다 표현식에 &lsquo;타입 추론&rsquo; 이 가능하며, 전달하는 파라미터의 타입을 명시하지 않아도 런타임에 추론이 가능해진다. 명시적으로 선언하지 않아도 되므로, 코드량이 감소한다.</p>
<h3 id="stream-api">Stream API</h3>
<p>스트림 API는 람다 표현식의 효과적인 활용법으로, Collection 인터페이스를 다루는 새로운 매커니즘을 제공한다. 파이프라인/지연/병렬 처리 등이 동일 인터페이스로 제공되며, 함수형 프로그래밍이 가능해진다.</p>
<p>Referred to <a href="https://github.com/benelog/lambda-resort">&rsquo;lambda-resort&rsquo; Github</a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>List<span style="color:#ff79c6">&lt;</span>Guest<span style="color:#ff79c6">&gt;</span> guests <span style="color:#ff79c6">=</span> repository<span style="color:#ff79c6">.</span><span style="color:#50fa7b">findAll</span><span style="color:#ff79c6">();</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#ff79c6">return</span> guests<span style="color:#ff79c6">.</span><span style="color:#50fa7b">stream</span><span style="color:#ff79c6">()</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>	<span style="color:#ff79c6">.</span><span style="color:#50fa7b">filter</span><span style="color:#ff79c6">(</span>g <span style="color:#ff79c6">-&gt;</span> company<span style="color:#ff79c6">.</span><span style="color:#50fa7b">equals</span><span style="color:#ff79c6">(</span>g<span style="color:#ff79c6">.</span><span style="color:#50fa7b">getCompany</span><span style="color:#ff79c6">()))</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span>	<span style="color:#ff79c6">.</span><span style="color:#50fa7b">sorted</span><span style="color:#ff79c6">(</span>Comparator<span style="color:#ff79c6">.</span><span style="color:#50fa7b">comparing</span><span style="color:#ff79c6">(</span>Guest<span style="color:#ff79c6">::</span>getGrade<span style="color:#ff79c6">))</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span>	<span style="color:#ff79c6">.</span><span style="color:#50fa7b">map</span><span style="color:#ff79c6">(</span>Guest<span style="color:#ff79c6">::</span>getName<span style="color:#ff79c6">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span><span>	<span style="color:#ff79c6">.</span><span style="color:#50fa7b">collect</span><span style="color:#ff79c6">(</span>Collectors<span style="color:#ff79c6">.</span><span style="color:#50fa7b">toList</span><span style="color:#ff79c6">());</span>
</span></span></code></pre></div><p>컨테이너로부터 스트림을 생성하고, 특정 company와 동일한 guest 객체만 필터링한 뒤에, guest.grade 값을 오름차순으로 정렬한 뒤에 guest의 이름만 추출하여 다시 리스트로 만드는 로직이다.
기존의 for-each 문의로 작성하려고 하면 복잡해질 수 있는 부분이 단순해지며 명확해진다.</p>
<h3 id="default-method">Default Method</h3>
<p>경직된 자바 인터페이스 체계에서는 인터페이스의 메소드 추가 시, 하위의 모든 구현체에 영향을 미치게 된다. 인터페이스를 구현한 Concrete/Abstract Class의 어디선가는 꼭 오버라이딩을 해야한다.</p>
<p>기존에는 다양한 우회 기법을 통해 해소하였다.</p>
<ol>
<li>헬퍼 클래스 활용</li>
<li>확장 인터페이스 추가</li>
<li>추상 클래스를 통한 확장 등&hellip;</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">interface</span> <span style="color:#50fa7b">Iterator</span><span style="color:#ff79c6">&lt;</span>E<span style="color:#ff79c6">&gt;</span> <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>	<span style="color:#ff79c6">...</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span>	<span style="color:#ff79c6">default</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">forEachRemaining</span><span style="color:#ff79c6">(</span>Consumer<span style="color:#ff79c6">&lt;?</span> <span style="color:#8be9fd;font-style:italic">super</span> E<span style="color:#ff79c6">&gt;</span> action<span style="color:#ff79c6">)</span> <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span>      Objects<span style="color:#ff79c6">.</span><span style="color:#50fa7b">requireNonNull</span><span style="color:#ff79c6">(</span>action<span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span><span>      <span style="color:#ff79c6">while</span> <span style="color:#ff79c6">(</span>hasNext<span style="color:#ff79c6">())</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span><span>          action<span style="color:#ff79c6">.</span><span style="color:#50fa7b">accept</span><span style="color:#ff79c6">(</span>next<span style="color:#ff79c6">());</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8</span><span>  <span style="color:#ff79c6">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9</span><span><span style="color:#ff79c6">}</span>
</span></span></code></pre></div><p>forEachRemaining 메소드에 대한 구현이 상속 받은 클래스에서 구현을 강요하지 않고, 오버라이딩을 통한 확장이 가능하도록 여지는 남겨놓았다.</p>
<p>상속을 통한 구현이 인터페이스 기본 메소드보다 우선! (Override method &gt; Default method)</p>
<p>Diamond Problem 발생 가능!</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">interface</span> <span style="color:#50fa7b">Red</span> <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span>	<span style="color:#ff79c6">default</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">draw</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span> <span style="color:#6272a4">/* Some of code */</span> <span style="color:#ff79c6">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span><span style="color:#ff79c6">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">interface</span> <span style="color:#50fa7b">Blue</span> <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span><span>	<span style="color:#ff79c6">default</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">draw</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span> <span style="color:#6272a4">/* Some of code */</span> <span style="color:#ff79c6">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span><span><span style="color:#ff79c6">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">interface</span> <span style="color:#50fa7b">Green</span> <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span>	<span style="color:#ff79c6">default</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">draw</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span> <span style="color:#6272a4">/* Some of code */</span> <span style="color:#ff79c6">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span><span style="color:#ff79c6">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">interface</span> <span style="color:#50fa7b">Pen</span> <span style="color:#8be9fd;font-style:italic">extends</span> Red<span style="color:#ff79c6">,</span> Blue<span style="color:#ff79c6">,</span> Green <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span><span>	<span style="color:#6272a4">/* 컴파일 오류 발생! ( Pen inherits unrelated defaults for the draw() from Red and Blue ) */</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span><span><span style="color:#ff79c6">}</span>
</span></span></code></pre></div><p>명시적으로 어떤 인터페이스의 기본 메소드를 사용할 것인지 기본 메소드를 정의하여 회피 가능</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">interface</span> <span style="color:#50fa7b">Pen</span> <span style="color:#8be9fd;font-style:italic">extends</span> Red<span style="color:#ff79c6">,</span> Blue<span style="color:#ff79c6">,</span> Green <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>	<span style="color:#ff79c6">default</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">draw</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span> Red<span style="color:#ff79c6">.</span><span style="color:#50fa7b">super</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">draw</span><span style="color:#ff79c6">();</span> <span style="color:#ff79c6">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span><span style="color:#ff79c6">}</span>
</span></span></code></pre></div><p>정적 메서드도 인터페이스에 포함 가능 / 별도 유틸리티 클래스로 분리할 필요 없음</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">interface</span> <span style="color:#50fa7b">Function</span><span style="color:#ff79c6">&lt;</span>T<span style="color:#ff79c6">,</span> R<span style="color:#ff79c6">&gt;</span> <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span>	R <span style="color:#50fa7b">apply</span><span style="color:#ff79c6">(</span>T t<span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span>	<span style="color:#8be9fd;font-style:italic">static</span> Function<span style="color:#ff79c6">&lt;?,</span> String<span style="color:#ff79c6">&gt;</span> <span style="color:#50fa7b">toStringFunction</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span><span>		<span style="color:#ff79c6">return</span> value <span style="color:#ff79c6">-&gt;</span> value<span style="color:#ff79c6">.</span><span style="color:#50fa7b">toString</span><span style="color:#ff79c6">();</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span><span>	<span style="color:#ff79c6">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span><span>	<span style="color:#8be9fd;font-style:italic">static</span> <span style="color:#ff79c6">&lt;</span>E<span style="color:#ff79c6">&gt;</span> Function<span style="color:#ff79c6">&lt;</span>E<span style="color:#ff79c6">,</span> E<span style="color:#ff79c6">&gt;</span> <span style="color:#50fa7b">identity</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span><span>		<span style="color:#ff79c6">return</span> value <span style="color:#ff79c6">-&gt;</span> value<span style="color:#ff79c6">;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span>	<span style="color:#ff79c6">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span>	<span style="color:#8be9fd;font-style:italic">static</span> <span style="color:#ff79c6">&lt;</span>R<span style="color:#ff79c6">&gt;</span> Function<span style="color:#ff79c6">&lt;?,</span> R<span style="color:#ff79c6">&gt;</span> <span style="color:#50fa7b">constant</span><span style="color:#ff79c6">(</span>R constantValue<span style="color:#ff79c6">)</span> <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span><span>		<span style="color:#ff79c6">return</span> value <span style="color:#ff79c6">-&gt;</span> constantValue<span style="color:#ff79c6">;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span>	<span style="color:#ff79c6">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span><span><span style="color:#ff79c6">}</span>
</span></span></code></pre></div><h3 id="joda-time-방식의-새-날짜-api-변경-jsr-310">Joda Time 방식의 새 날짜 API 변경 (JSR 310)</h3>
<h4 id="기본-날짜-클래스-문제점">기본 날짜 클래스 문제점</h4>
<p>Java7 까지의 JDK에서 제공하던 날짜 관련 클래스들은 문제가 많았다. 결국은 유틸리티 라이브러리 (Joda Time) 의 등장으로 어느정도 해소 되었으나 공식적으로 자바 진영에서 새로운 표준을 제시하였다.</p>
<p>먼저, 기존의 날짜 관련 코드가 어떤 부분에서 문제가 될 수 있는지에 대해서는 아래에 간략하게 정리하였다. (해당 내용은 [3] 를 참고하였다.)</p>
<ul>
<li>
<p>Not immutable!
자바의 Date/Calendar클래스에는 Getter/Setter 를 통해 내부 객체를 자유롭게 변경할 수 있다. 쓰레드 안정성이 지켜지지 않으며, 악의적인 코드에 취약할 수 있다.</p>
</li>
<li>
<p>상수 오남용</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#ff79c6">(</span>1<span style="color:#ff79c6">)</span> calendar<span style="color:#ff79c6">.</span><span style="color:#50fa7b">add</span><span style="color:#ff79c6">(</span>Calendar<span style="color:#ff79c6">.</span><span style="color:#50fa7b">SECOND</span><span style="color:#ff79c6">,</span> 2<span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#ff79c6">(</span>2<span style="color:#ff79c6">)</span> calendar<span style="color:#ff79c6">.</span><span style="color:#50fa7b">add</span><span style="color:#ff79c6">(</span>Calendar<span style="color:#ff79c6">.</span><span style="color:#50fa7b">OCTOBER</span><span style="color:#ff79c6">,</span> 2<span style="color:#ff79c6">);</span>
</span></span></code></pre></div><p>(1) 과 같이 초 단위의 조작을 원했더라도 (2) 과 같이 작성하여도 컴파일 과정에서 에러를 발생시키지 않는다. 런타임 중에 논리적 오류를 인지하고서야 해결할 수 있을 것이다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#ff79c6">(</span>1<span style="color:#ff79c6">)</span> calendar<span style="color:#ff79c6">.</span><span style="color:#50fa7b">set</span><span style="color:#ff79c6">(</span>1582<span style="color:#ff79c6">,</span> Calendar<span style="color:#ff79c6">.</span><span style="color:#50fa7b">OCTOBER</span> <span style="color:#ff79c6">,</span> 4<span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#ff79c6">(</span>2<span style="color:#ff79c6">)</span> calendar<span style="color:#ff79c6">.</span><span style="color:#50fa7b">set</span><span style="color:#ff79c6">(</span>1582<span style="color:#ff79c6">,</span> 10<span style="color:#ff79c6">,</span> 4<span style="color:#ff79c6">);</span>
</span></span></code></pre></div><p>(1) 과 같이 1582-10-4 의 날짜를 설정할 수 있다. 일반적으로 &lsquo;OCTOBER == 10월&rsquo; 으로 인지하고 있기 때문에 상수를 사용하지 않고 임의의 정수로 설정하는 경우 의도와 다른 결과를 얻을 수 있다.
Calendar.OCTOBER 상수의 값은 &lsquo;9&rsquo; 이며, 10으로 설정하는 경우 11월로 설정한 꼴이 된다.</p>
<ul>
<li>일관성 없는 요일 상수</li>
</ul>
<p>Calendar.get(Calendar.DAY_OF_WEEK) 의 일요일은 1(=Calendar.SUNDAY) 로 표현.
반면에, calendar.getTime() 로 Date 객체를 얻어와서 Date.getDay() 메서드로 요일을 구하면 일요일은 0이 된다.</p>
<h4 id="새로운-날짜-표준-소개-jsr-310">새로운 날짜 표준 소개 (JSR-310)</h4>
<p>JSR-310 표준으로 날짜와 시간에 대한 새로운 API가 추가되었다. Joda Time &amp; Time And Money &amp; ICU 등의 여러 오픈소스에 영향을 받았다고 함.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">JSR310Test</span> <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span>	@Test
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span>  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">testNextDay</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span><span>      LocalDate today <span style="color:#ff79c6">=</span> IsoChronology<span style="color:#ff79c6">.</span><span style="color:#50fa7b">INSTANCE</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">date</span><span style="color:#ff79c6">(</span>2016<span style="color:#ff79c6">,</span> 11<span style="color:#ff79c6">,</span> 3<span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span><span>      DateTimeFormatter formatter <span style="color:#ff79c6">=</span> DateTimeFormatter<span style="color:#ff79c6">.</span><span style="color:#50fa7b">ofPattern</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;yyyy-MM-dd&#34;</span><span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span><span>      assertThat<span style="color:#ff79c6">(</span>today<span style="color:#ff79c6">.</span><span style="color:#50fa7b">format</span><span style="color:#ff79c6">(</span>formatter<span style="color:#ff79c6">)).</span><span style="color:#50fa7b">isEqualTo</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;2016-11-03&#34;</span><span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span>      LocalDate tomorrow <span style="color:#ff79c6">=</span> today<span style="color:#ff79c6">.</span><span style="color:#50fa7b">plusDays</span><span style="color:#ff79c6">(</span>1<span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span>      assertThat<span style="color:#ff79c6">(</span>tomorrow<span style="color:#ff79c6">.</span><span style="color:#50fa7b">format</span><span style="color:#ff79c6">(</span>formatter<span style="color:#ff79c6">)).</span><span style="color:#50fa7b">isEqualTo</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;2016-11-04&#34;</span><span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span><span>  <span style="color:#ff79c6">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span><span style="color:#ff79c6">}</span>
</span></span></code></pre></div><h3 id="메타-어노테이션-지원-보완">메타 어노테이션 지원 보완</h3>
<p>개발 편리성 및 생산성을 위하 메타 프로그래밍이 사용되고 있다. 메소드나 프로퍼티에 어노테이션을 걸고, 동적으로 정보를 가져올 수 있는 개발 방법이다.
자바8에는 &lsquo;@Repeatable&rsquo; 어노테이션이 추가되었고, 어노테이션이 Context를 상속한다. 지역 변수, 제네릭 타입, 수퍼클래스와 인터페이스 구현체, 또한 메소드 Exception 정의까지 거의 모든것을 어노테이션으로 표현할 수 있다. 자세한 내용은 [4] 링크를 참조하자. ^^</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span>@Retention<span style="color:#ff79c6">(</span>RetentionPolicy<span style="color:#ff79c6">.</span><span style="color:#50fa7b">RUNTIME</span><span style="color:#ff79c6">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span><span style="color:#8be9fd;font-style:italic">public</span> @interface Filters <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span>    Filter<span style="color:#ff79c6">[]</span> <span style="color:#50fa7b">value</span><span style="color:#ff79c6">();</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span><span><span style="color:#ff79c6">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span><span>@Target<span style="color:#ff79c6">(</span> ElementType<span style="color:#ff79c6">.</span><span style="color:#50fa7b">TYPE</span> <span style="color:#ff79c6">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span><span>@Retention<span style="color:#ff79c6">(</span> RetentionPolicy<span style="color:#ff79c6">.</span><span style="color:#50fa7b">RUNTIME</span> <span style="color:#ff79c6">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span>@Repeatable<span style="color:#ff79c6">(</span> Filters<span style="color:#ff79c6">.</span><span style="color:#50fa7b">class</span> <span style="color:#ff79c6">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span><span style="color:#8be9fd;font-style:italic">public</span> @interface Filter <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span><span>	String <span style="color:#50fa7b">value</span><span style="color:#ff79c6">();</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span><span style="color:#ff79c6">};</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span><span>@Filter<span style="color:#ff79c6">(</span> <span style="color:#f1fa8c">&#34;filter1&#34;</span> <span style="color:#ff79c6">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span><span>@Filter<span style="color:#ff79c6">(</span> <span style="color:#f1fa8c">&#34;filter2&#34;</span> <span style="color:#ff79c6">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">interface</span> <span style="color:#50fa7b">Filterable</span> <span style="color:#ff79c6">{</span> <span style="color:#ff79c6">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">static</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">main</span><span style="color:#ff79c6">(</span>String<span style="color:#ff79c6">[]</span> args<span style="color:#ff79c6">)</span> <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span><span>	<span style="color:#ff79c6">for</span><span style="color:#ff79c6">(</span> Filter filter <span style="color:#ff79c6">:</span> Filterable<span style="color:#ff79c6">.</span><span style="color:#50fa7b">class</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">getAnnotationsByType</span><span style="color:#ff79c6">(</span> Filter<span style="color:#ff79c6">.</span><span style="color:#50fa7b">class</span> <span style="color:#ff79c6">)</span> <span style="color:#ff79c6">)</span> <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span><span>			System<span style="color:#ff79c6">.</span><span style="color:#50fa7b">out</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">println</span><span style="color:#ff79c6">(</span> filter<span style="color:#ff79c6">.</span><span style="color:#50fa7b">value</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span><span>	<span style="color:#ff79c6">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21</span><span><span style="color:#ff79c6">}</span>
</span></span></code></pre></div><h3 id="동시성-api-개선">동시성 API 개선</h3>
<ul>
<li>java.util.concurrent.ConcurrentHaspMap 에 스트림과 람다 표현식을 지원하기 위한 새로운 메소드가 추가됨</li>
<li>java.util.concurrent.ForkJoinPool 멀티 코어 대응 ExecutorService 구현체 (JDK7+) / ForkJoinPool.commonPool() 메소드 추가로 ForkJoinPool 객체를 생성 하지 않고 할당받을 수 있게 됨.</li>
<li>java.util.concurrent.locks.ReadWriteLock 의 성능 이슈로 이를 개선한 java.util.concurrent.locks.StampedLock 이 추가 되었다. 자체로 속도가 개선 되었을 뿐 만 아니라 Optimistic Lock을 제공해 더욱 빠르게 동작함. 자세한 내용은 [5] 링크 참조. 성능 비교는 [6] 링크 참조.</li>
<li>계수 / 누산에 같은 작업의 원자적 연산을 지원하는 클래스(DoubleAccumulator, DoubleAdder, LongAccumulator, LongAdder)가 추가되었다. 자세한 내용은 [5] 링크 참조.</li>
</ul>
<h3 id="ionio-확장">IO/NIO 확장</h3>
<h3 id="ionio-관련-클래스에-메소드-추가--stream-api-를-통한-사용성-개선">IO/NIO 관련 클래스에 메소드 추가 / Stream API 를 통한 사용성 개선</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>BufferedReader<span style="color:#ff79c6">.</span><span style="color:#50fa7b">lines</span><span style="color:#ff79c6">();</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>Files<span style="color:#ff79c6">.</span><span style="color:#50fa7b">list</span> <span style="color:#ff79c6">(</span>Path<span style="color:#ff79c6">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>Files<span style="color:#ff79c6">.</span><span style="color:#50fa7b">walk</span> <span style="color:#ff79c6">(</span>Path<span style="color:#ff79c6">,</span> <span style="color:#8be9fd">int</span> FileVisitOption <span style="color:#ff79c6">...)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span>Files<span style="color:#ff79c6">.</span><span style="color:#50fa7b">walk</span> <span style="color:#ff79c6">(</span>Path<span style="color:#ff79c6">,</span> FileVisitOption <span style="color:#ff79c6">...)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span>Files<span style="color:#ff79c6">.</span><span style="color:#50fa7b">find</span> <span style="color:#ff79c6">(</span>Path<span style="color:#ff79c6">,</span> <span style="color:#8be9fd">int</span> BiPredicate<span style="color:#ff79c6">,</span> FileVisitOption <span style="color:#ff79c6">...)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span><span>Files<span style="color:#ff79c6">.</span><span style="color:#50fa7b">lines</span> <span style="color:#ff79c6">(</span>Path<span style="color:#ff79c6">,</span> Charset<span style="color:#ff79c6">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span><span>DirectoryStream<span style="color:#ff79c6">.</span><span style="color:#50fa7b">stream</span> <span style="color:#ff79c6">()</span>
</span></span></code></pre></div><p>추가된 메소드 중 일부 나열.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>Files<span style="color:#ff79c6">.</span><span style="color:#50fa7b">list</span><span style="color:#ff79c6">(</span><span style="color:#ff79c6">new</span> File<span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;.&#34;</span><span style="color:#ff79c6">).</span><span style="color:#50fa7b">toPath</span><span style="color:#ff79c6">())</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>     <span style="color:#ff79c6">.</span><span style="color:#50fa7b">filter</span><span style="color:#ff79c6">(</span>p <span style="color:#ff79c6">-&gt;</span> <span style="color:#ff79c6">!</span>p<span style="color:#ff79c6">.</span><span style="color:#50fa7b">getFileName</span><span style="color:#ff79c6">().</span><span style="color:#50fa7b">toString</span><span style="color:#ff79c6">().</span><span style="color:#50fa7b">startsWith</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;.&#34;</span><span style="color:#ff79c6">))</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>     <span style="color:#ff79c6">.</span><span style="color:#50fa7b">limit</span><span style="color:#ff79c6">(</span>3<span style="color:#ff79c6">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span>     <span style="color:#ff79c6">.</span><span style="color:#50fa7b">forEach</span><span style="color:#ff79c6">(</span>System<span style="color:#ff79c6">.</span><span style="color:#50fa7b">out</span><span style="color:#ff79c6">::</span>println<span style="color:#ff79c6">);</span>
</span></span></code></pre></div><p>현재 디렉토리에서 &lsquo;.&rsquo; 으로 시작하지 않는 파일을 리스팅 하는 예시.</p>
<h4 id="javautilbase64-클래스-추가">java.util.Base64 클래스 추가</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#6272a4">// 인코딩
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#6272a4"></span>String asB64 <span style="color:#ff79c6">=</span> Base64<span style="color:#ff79c6">.</span><span style="color:#50fa7b">getEncoder</span><span style="color:#ff79c6">().</span><span style="color:#50fa7b">encodeToString</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;Hello, World!&#34;</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">getBytes</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;utf-8&#34;</span><span style="color:#ff79c6">));</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>System<span style="color:#ff79c6">.</span><span style="color:#50fa7b">out</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">println</span><span style="color:#ff79c6">(</span>asB64<span style="color:#ff79c6">);</span> <span style="color:#6272a4">// Equals to &#34;SGVsbG8sIFdvcmxkIQ==&#34;
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span><span style="color:#6272a4"></span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span><span style="color:#6272a4">// 디코딩
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span><span><span style="color:#6272a4"></span><span style="color:#8be9fd">byte</span><span style="color:#ff79c6">[]</span> asBytes <span style="color:#ff79c6">=</span> Base64<span style="color:#ff79c6">.</span><span style="color:#50fa7b">getDecoder</span><span style="color:#ff79c6">().</span><span style="color:#50fa7b">decode</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;SGVsbG8sIFdvcmxkIQ==&#34;</span><span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span><span>System<span style="color:#ff79c6">.</span><span style="color:#50fa7b">out</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">println</span><span style="color:#ff79c6">(</span><span style="color:#ff79c6">new</span> String<span style="color:#ff79c6">(</span>asBytes<span style="color:#ff79c6">,</span> <span style="color:#f1fa8c">&#34;utf-8&#34;</span><span style="color:#ff79c6">));</span>
</span></span></code></pre></div><h3 id="heap에서-permanent-generation-제거">Heap에서 Permanent Generation 제거</h3>
<p>java.lang.OutOfMemoryError: PermGen 에러 발생 원인. (PermGen의 힙 메모리는 GC가 되지 않는다. 원인은 주로, 무분별한 Static 변수 + HotSwap 으로 인한 PermGen 메모리 누수)</p>
<h4 id="changed-jvm-options">Changed JVM Options</h4>
<p>PermGen 관련 JVM 옵션이 Ignore 처리 되었고, 새로운 JVM 옵션이 추가되었다.</p>
<ul>
<li>제거된 JVM Options</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>-XX:PermSize <span style="color:#6272a4"># JVM 기동 시, PermGen 영역 사이즈</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>-XX:MaxPermSize <span style="color:#6272a4"># PermGen 영역 최대 사이즈</span>
</span></span></code></pre></div><ul>
<li>추가된 JVM Options</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>-XX:MetaspaceSize <span style="color:#6272a4"># JVM 기동 시, Metaspace 영역 사이즈</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>-XX:MaxMetaspaceSize <span style="color:#6272a4"># Metaspace 영역 최대 사이즈 (설정하지 않으면, JVM이 자동으로 조절)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span>+@ -XX:MinMetaspaceFreeRatio <span style="color:#6272a4"># Metaspace 최소 용량 비율</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span><span>+@ -XX:MaxMetaspaceFreeRatio <span style="color:#6272a4"># Metaspace 최대 용량 비율</span>
</span></span></code></pre></div><h4 id="permgen-to-metaspace">PermGen to Metaspace</h4>
<p>자세한 변경 사항은 [7] 링크에 정리된 내용을 참조하자.</p>
<p>간략하게 요약하면, 아래와 같다.</p>
<p><strong>Java7 까지의 Permanent</strong></p>
<ol>
<li>Class 의 Meta정보 (pkg path 정보라고 보면 됨, text 정보)</li>
<li>Method의 Meta 정보</li>
<li>Static Object</li>
<li>상수화된 String Object</li>
<li>Class와 관련된 배열 객체 Meta 정보</li>
<li>JVM 내부적인 객체들과 최적화컴파일러(JIT)의 최적화 정보</li>
</ol>
<p><strong>Java8 에서의 Metaspace과 Heap 분리</strong></p>
<ol>
<li>Class 의 Meta정보 -&gt; Metaspace 영역으로 이동</li>
<li>Method의  Meta 정보 -&gt; Metaspace 영역으로 이동</li>
<li>Static Object -&gt; Heap 영역으로 이동</li>
<li>상수화된 String Obejct -&gt; Heap 영역으로 이동</li>
<li>클레스와 관련된 배열 객체 Meta 정보 -&gt; Metaspace 영역으로 이동</li>
<li>JVM 내부적인 객체들과 최적화컴파일러(JIT)의 최적화 정보 -&gt; Metaspace 영역으로 이동</li>
</ol>
<p>정리하자면,</p>
<ul>
<li>
<p>힙 영역이 기존에 <strong>New / Survive / Old / Perm / Native</strong> 에서 <strong>New / Survive / Old / Metaspace</strong> 로 구조가 변경됨.</p>
</li>
<li>
<p>PermGen 영역에 저장되어 문제를 유발하던 Static Obect는 Heap 영역으로 옮겨서 최대한 GC 대상이 되도록 함. (Static Final 인 경우는 어쩔 수 없음&hellip;)</p>
</li>
<li>
<p>수정될 필요가 없는 정보만 Metaspace에 저장, Metaspace는 JVM이 필요에 따라서 리사이징할 수 있는 구조로 개선되었음.</p>
</li>
</ul>
<h2 id="참고-링크">참고 링크</h2>
<ul>
<li><a href="http://blog.fupfin.com/?p=27">Java 8 개선 사항 관련 글 모음</a></li>
<li><a href="http://www.moreagile.net/2014/04/AllAboutJava8.html">자바 8 살펴보기</a></li>
<li><a href="http://d2.naver.com/helloworld/645609">Java의 날짜와 시간 API</a></li>
<li><a href="http://goodcodes.tistory.com/entry/Java-8-Feature-Annotation">Java8 메타 어노테이션</a></li>
<li><a href="http://www.yunsobi.com/blog/599">Java SE 8 의 새로운 기능</a></li>
<li><a href="http://blog.takipi.com/java-8-stampedlocks-vs-readwritelocks-and-synchronized/">StampedLock 성능 비교</a></li>
<li><a href="https://blog.jooq.org/2014/01/24/java-8-friday-goodies-the-new-new-io-apis/">Java8 New I/O API</a></li>
<li><a href="https://dzone.com/articles/java-8-permgen-metaspace">Java8 PermGen to Metaspace</a></li>
</ul>

    </div>
  </article>

  
  




  <div class="blog-post-comments">
    
      <div id="disqus_thread">
  <script type="text/javascript">
    (function() {
      
      
      
      
    
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = 'devlog-in-the-sky';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="https://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

    
  </div>



  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/posts">Posts</a></li>
         
          <li><a href="/tags">Tags</a></li>
         
          <li><a href="/about">About</a></li>
        
      </ul>
    </div>

    

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fskyoo2003.github.io%2fpost%2f2016%2f10%2f25%2f2016-10-25-introduction-to-java8%2f" aria-label="Facebook">
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fskyoo2003.github.io%2fpost%2f2016%2f10%2f25%2f2016-10-25-introduction-to-java8%2f&text=Java%208%20%ec%82%b4%ed%8e%b4%eb%b3%b4%ea%b8%b0" aria-label="Twitter">
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fskyoo2003.github.io%2fpost%2f2016%2f10%2f25%2f2016-10-25-introduction-to-java8%2f&title=Java%208%20%ec%82%b4%ed%8e%b4%eb%b3%b4%ea%b8%b0" aria-label="Linkedin">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fskyoo2003.github.io%2fpost%2f2016%2f10%2f25%2f2016-10-25-introduction-to-java8%2f&is_video=false&description=Java%208%20%ec%82%b4%ed%8e%b4%eb%b3%b4%ea%b8%b0" aria-label="Pinterest">
      <i class="fab fa-pinterest fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Java%208%20%ec%82%b4%ed%8e%b4%eb%b3%b4%ea%b8%b0&body=Check out this article: https%3a%2f%2fskyoo2003.github.io%2fpost%2f2016%2f10%2f25%2f2016-10-25-introduction-to-java8%2f" aria-label="Email">
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fskyoo2003.github.io%2fpost%2f2016%2f10%2f25%2f2016-10-25-introduction-to-java8%2f&title=Java%208%20%ec%82%b4%ed%8e%b4%eb%b3%b4%ea%b8%b0" aria-label="Pocket">
      <i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fskyoo2003.github.io%2fpost%2f2016%2f10%2f25%2f2016-10-25-introduction-to-java8%2f&title=Java%208%20%ec%82%b4%ed%8e%b4%eb%b3%b4%ea%b8%b0" aria-label="reddit">
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fskyoo2003.github.io%2fpost%2f2016%2f10%2f25%2f2016-10-25-introduction-to-java8%2f&name=Java%208%20%ec%82%b4%ed%8e%b4%eb%b3%b4%ea%b8%b0&description=Java%208%20%eb%b2%84%ec%a0%84%ec%97%90%20%ec%b6%94%ea%b0%80%eb%90%9c%20%eb%82%b4%ec%9a%a9%eb%93%a4%ec%97%90%20%eb%8c%80%ed%95%b4%ec%84%9c%20%ec%a0%95%eb%a6%ac%ed%95%98%ea%b3%a0%ec%9e%90%20%ed%95%9c%eb%8b%a4.%20%ec%a0%84%eb%b0%98%ec%a0%81%ec%9d%b8%20%eb%82%b4%ec%9a%a9%ec%9d%84%20%ec%a0%95%eb%a6%ac%ed%95%98%ea%b3%a0%ec%9e%90%20%ed%95%98%ec%98%80%ea%b3%a0%2c%20%ec%9e%90%ec%84%b8%ed%95%98%ea%b3%a0%20%ec%84%b8%eb%b6%80%ec%a0%81%ec%9d%b8%20%eb%82%b4%ec%9a%a9%ec%9d%80%20%ea%b4%80%eb%a0%a8%20%eb%a7%81%ed%81%ac%eb%a5%bc%20%ec%b2%a8%eb%b6%80%ed%95%98%ec%97%ac%20%ec%b6%94%ed%9b%84%ec%97%90%20%ea%b0%80%eb%8a%a5%ed%95%98%eb%8b%a4%eb%a9%b4%2c%20%ed%95%b4%eb%8b%b9%20%eb%b6%80%eb%b6%84%ec%97%90%20%eb%8c%80%ed%95%b4%ec%84%9c%20%eb%8d%94%20%ec%9e%90%ec%84%b8%ed%9e%88%20%ec%a0%95%eb%a6%ac%ed%95%b4%eb%b3%b4%ea%b3%a0%ec%9e%90%20%ed%95%9c%eb%8b%a4.%0a%ec%83%88%eb%a1%9c%ec%9a%b4%20%ea%b8%b0%eb%8a%a5%20%ec%a0%95%eb%a6%ac%20Lambda%20Expression%20%28a.k.a%20Anonymous%20Method%29%20%ec%9e%90%eb%b0%94%ec%9d%98%20%eb%9e%8c%eb%8b%a4%20%ed%91%9c%ed%98%84%ec%8b%9d%ec%9d%98%20%ea%b7%bc%ea%b0%84%ec%9d%80%20%26lsquo%3b%ec%95%8c%eb%a1%a0%ec%86%8c%20%ec%b2%98%ec%b9%98%20%28Alonzo%20Church%29%26lsquo%3b%ea%b0%80%201930%eb%85%84%eb%8c%80%ec%97%90%20%eb%9e%8c%eb%8b%a4%20%eb%8c%80%ec%88%98%eb%a5%bc%20%ec%a0%9c%ec%95%88.%20%ed%95%a8%ec%88%98%20%ec%a0%95%ec%9d%98%2c%20%ed%95%a8%ec%88%98%20%ec%a0%81%ec%9a%a9%2c%20%ea%b7%80%eb%82%a9%ec%a0%81%20%ed%95%a8%ec%88%98%eb%a5%bc%20%ec%b6%94%ec%83%81%ed%99%94%ed%95%9c%20%ed%98%95%ec%8b%9d%20%ec%b2%b4%ea%b3%84%21%20%ec%9e%90%ec%84%b8%ed%95%9c%20%ec%82%ac%ed%95%ad%ec%9d%80%20%eb%9e%8c%eb%8b%a4%20%eb%8c%80%ec%88%98%20%ec%9c%84%ed%82%a4%20%ec%b0%b8%ec%a1%b0.%0a%ec%9d%b5%eb%aa%85%20%eb%a9%94%ec%86%8c%eb%93%9c%20%ec%83%9d%ec%84%b1%20%eb%ac%b8%eb%b2%95%ec%9d%84%20%ec%a7%80%ec%9b%90%ed%95%9c%eb%8b%a4%eb%8a%94%20%ec%a0%95%eb%8f%84%eb%a1%9c%20%ec%9d%b4%ed%95%b4%ed%95%98%eb%a9%b4%20%ec%a2%8b%ec%9d%84%20%eb%93%af%20%ed%95%98%eb%8b%a4." aria-label="Tumblr">
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fskyoo2003.github.io%2fpost%2f2016%2f10%2f25%2f2016-10-25-introduction-to-java8%2f&t=Java%208%20%ec%82%b4%ed%8e%b4%eb%b3%b4%ea%b8%b0" aria-label="Hacker News">
      <i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu-toggle" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;" aria-label="Menu">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
        <a id="share-toggle" class="icon" href="#" onclick="$('#share-footer').toggle();return false;" aria-label="Share">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2022  Sung-Kyu Yoo 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Posts</a></li>
         
        <li><a href="/tags">Tags</a></li>
         
        <li><a href="/about">About</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>

<script src=/js/code-copy.js></script>



  


<script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']]
    },
    svg: {
      fontCache: 'global'
    }
  };
</script>
<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>

</html>
