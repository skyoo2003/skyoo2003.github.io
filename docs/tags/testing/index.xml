<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>testing on Devlog in the SKY</title><link>https://skyoo2003.github.io/tags/testing/</link><description>Recent content in testing on Devlog in the SKY</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><copyright>Sung-Kyu Yoo</copyright><lastBuildDate>Thu, 26 May 2022 22:08:24 +0900</lastBuildDate><atom:link href="https://skyoo2003.github.io/tags/testing/index.xml" rel="self" type="application/rss+xml"/><item><title>Ansible Molecule with Kind - 도커를 활용한 쿠버네티스 자동화 테스트 작성</title><link>https://skyoo2003.github.io/post/2022/05/26/ansible-molecule-with-kind/</link><pubDate>Thu, 26 May 2022 22:08:24 +0900</pubDate><guid>https://skyoo2003.github.io/post/2022/05/26/ansible-molecule-with-kind/</guid><description>Ansible Molecule with KIND (Kubernetes IN Docker) Ansible Molecule은 Ansible roles를 가상화 기술을 통해 환경을 고립시켜서 환경 구성을 테스트할 수 있게 도와주는 도구. KIND는 Kubernetes 클러스터를 도커 컨테이너로 동작시켜주는 도구. 쿠버네티스 클러스터 위에서 리소스를 배치하고 리소스를 확인하거나 어플리케이션 동작을 검증하는 용도로 사용함. (ex, Helm Chart) 제약사항 Docker Engine 설치 KIND 설치 Python libraries 설치 pip install molecule[docker,lint] molecule-docker!=0.3.4 openshift molecule-docker 0.3.4 버전은 문제가 있어 사용 금지 Ansible collections 설치 ansible-galaxy collection install community.</description></item><item><title>Ansible Molecule으로 테스트 작성하기</title><link>https://skyoo2003.github.io/post/2022/05/26/ansible-molecule/</link><pubDate>Thu, 26 May 2022 21:48:32 +0900</pubDate><guid>https://skyoo2003.github.io/post/2022/05/26/ansible-molecule/</guid><description>Molecule ansible-community 에서 관리하는 Ansible role용 테스트 프레임워크. Molecule는 여러 인스턴스, 운영 체제 및 배포, 가상화 공급자, 테스트 프레임 워크 및 테스트 시나리오를 사용한 테스트를 지원.
설치하기 Pip 설치 시, 시스템 파이썬의 의존성을 꼬이게할 수 있으므로 가급적 Virtualenv로 가상 환경을 만들거나 Pipenv, Poetry 등의 의존성 관리 도구 사용하는 것을 권장.
1# docker 및 yamllint, ansible-lint 패키지 추가로 설치. (podman, vagrant, azure, hetzer 도 지원) 2$ pip install molecule[docker,lint] 테스트 작성 /path/to/role/molecule/default 경로에 디렉토리 생성.</description></item></channel></rss>